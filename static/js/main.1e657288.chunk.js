(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{48:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var r,c=n(3),o=n(29),u=n(14),i=n(17),a=n(19),s=n.n(a),l=n(30),j=function(){return Object(c.useCallback)(function(){var t=Object(l.a)(s.a.mark((function t(e){var n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET"},t.next=3,window.fetch("".concat(e),n);case 3:if(!(r=t.sent).ok){t.next=8;break}return t.abrupt("return",r.json());case 8:return t.next=10,r.text();case 10:return c=t.sent,t.abrupt("return",Promise.reject(new Error(c)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(r||(r={}));var b=function(t,e){var n=j(),r=!!t&&!!e;return Object(u.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return n("https://api.sunrise-sunset.org/json?lat=51.4790545&lng=-0.2820995&date=today&formatted=0")}),{enabled:r})},d=51.4790946,f=-.2820046,O={lat:d,lng:f},g=function(){return navigator.geolocation?(navigator.geolocation.getCurrentPosition((function(t){return{lat:t.coords.latitude,lng:t.coords.longitude}}),(function(){return O})),O):O},h=n(5),p=function(){var t=Object(c.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(null),u=Object(i.a)(o,2),a=u[0],s=u[1],l=Object(c.useState)(null),j=Object(i.a)(l,2),O=j[0],p=j[1],x=b(O,a),S=x.data,v=x.isSuccess&&S,w=Object(c.useMemo)((function(){var t;if(S)return t=S.results.sunset,new Date(t).toString().split(" ")[4]}),[S]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Can we get your location? If you say no, we will just go with London!"}),Object(h.jsx)("button",{onClick:function(){r(!0);var t=g();p(t.lat),s(t.lng)},children:"Yes"}),Object(h.jsx)("button",{onClick:function(){p(d),s(f)},children:"No"}),n&&!v&&Object(h.jsx)("p",{children:"Locating..."}),v&&Object(h.jsxs)("p",{children:["Sunset: ",w]})]})},x=function(){var t=new u.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(h.jsx)(u.QueryClientProvider,{client:t,contextSharing:!0,children:Object(h.jsx)(p,{})})},S=(n(48),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,u=e.getTTFB;n(t),r(t),c(t),o(t),u(t)}))}),v=document.getElementById("root");Object(o.createRoot)(v).render(Object(h.jsx)(c.StrictMode,{children:Object(h.jsx)(x,{})})),S()}},[[49,1,2]]]);
//# sourceMappingURL=main.1e657288.chunk.js.map
(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{56:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var r,c=n(1),o=n(35),i=n(16),a=n(10),s=n.n(a),u=n(12),l=n(18),d=function(){return Object(c.useCallback)(function(){var t=Object(u.a)(s.a.mark((function t(e){var n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET"},t.next=3,window.fetch("".concat(e),n);case 3:if(!(r=t.sent).ok){t.next=8;break}return t.abrupt("return",r.json());case 8:return t.next=10,r.text();case 10:return c=t.sent,t.abrupt("return",Promise.reject(new Error(c)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(r||(r={}));var p=function(t,e){var n=d(),r=!!t&&!!e;return Object(i.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return n("https://api.sunrise-sunset.org/json?lat=".concat(t,"&lng=").concat(e,"&date=today&formatted=0"))}),{enabled:r})},f=51.4790946,j=-.2820046,b={lat:f,lng:j},h=function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.geolocation){t.next=2;break}return t.abrupt("return",b);case 2:return t.next=4,new Promise((function(t,e){navigator.geolocation.getCurrentPosition(t,e)}));case 4:return e=t.sent,t.abrupt("return",{lat:e.coords.latitude,lng:e.coords.longitude});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=n(17),O=g.a.div.withConfig({displayName:"styles__Container",componentId:"sc-1caujov-0"})(["width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:",";& > p{color:",";}transition:background-color 2s ease-in;"],(function(t){return t.isNightTime?"black":"white"}),(function(t){return t.isNightTime?"white":"black"})),v=g.a.div.withConfig({displayName:"styles__LocationConsentWrapper",componentId:"sc-1caujov-1"})(["display:flex;flex-direction:column;"]),x=g.a.div.withConfig({displayName:"styles__ButtonWrapper",componentId:"sc-1caujov-2"})(["width:100%;display:flex;justify-content:space-around;"]),m=g.a.button.withConfig({displayName:"styles__ConsentButton",componentId:"sc-1caujov-3"})(["background-color:none;width:50px;height:25px;background-color:none;border-radius:5px;cursor:pointer;"]),w=n(5),y=function(){var t=Object(c.useState)(!1),e=Object(l.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(null),i=Object(l.a)(o,2),a=i[0],d=i[1],b=Object(c.useState)(null),g=Object(l.a)(b,2),y=g[0],N=g[1],k=Object(c.useState)(null),C=Object(l.a)(k,2),_=C[0],S=C[1],E=p(y,a),I=E.data,T=E.isLoading,D=function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,h();case 3:e=t.sent,N(e.lat),d(e.lng),r(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=Object(c.useMemo)((function(){if(I)return function(t){var e=new Date(t);return console.log(e),e.toString().split(" ")[4]}(I.results.sunset)}),[I]);Object(c.useEffect)((function(){var t=(new Date).toString().split(" ")[4];S(t)}),[]);var L=Object(c.useMemo)((function(){return!(!_||!R)&&_>R}),[_,R]);return Object(w.jsxs)(O,{isNightTime:L,children:[!I&&!T&&!n&&Object(w.jsxs)(v,{children:[Object(w.jsx)("p",{children:"Can we get your location?"}),Object(w.jsxs)(x,{children:[Object(w.jsx)(m,{onClick:D,children:"Yes"}),Object(w.jsx)(m,{onClick:function(){N(f),d(j)},children:"No"})]})]}),(n||T)&&Object(w.jsx)("p",{children:"Locating..."}),R&&Object(w.jsxs)("p",{children:["Sunset: ",R]})]})},N=function(){var t=new i.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(w.jsx)(i.QueryClientProvider,{client:t,contextSharing:!0,children:Object(w.jsx)(y,{})})},k=(n(56),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),o(t),i(t)}))}),C=document.getElementById("root");Object(o.createRoot)(C).render(Object(w.jsx)(c.StrictMode,{children:Object(w.jsx)(N,{})})),k()}},[[57,1,2]]]);
//# sourceMappingURL=main.2a715a44.chunk.js.map
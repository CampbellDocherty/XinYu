(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{70:function(t,e,i){},71:function(t,e,i){"use strict";i.r(e);var n,r=i(0),o=i(49),c=i(19),s=i(7),a={city:"London",lng:"\t-0.118092",lat:"51.509865"},u=i(5),l=i.n(u),d=i(9),h=function(){return Object(r.useCallback)(function(){var t=Object(d.a)(l.a.mark((function t(e){var i,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={method:"GET"},t.next=3,window.fetch("".concat(e),i);case 3:if(!(n=t.sent).ok){t.next=8;break}return t.abrupt("return",n.json());case 8:return t.next=10,n.text();case 10:return r=t.sent,t.abrupt("return",Promise.reject(new Error(r)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])},p=function(){var t=h();return Object(c.useQuery)("GET_LOCATION_BY_IP",(function(){return t("https://ipinfo.io/json?token=".concat("a5e5afb9617ec8"))}))},f=Object(r.createContext)({isLocating:!0,errorLocating:!1,hasLocated:!1,location:{city:"",lng:"",lat:""}}),g=i(4),b=function(t){var e=t.children,i=Object(r.useState)({city:"",lng:"",lat:""}),n=Object(s.a)(i,2),o=n[0],c=n[1],u=p(),l=u.data,d=u.isLoading,h=u.isSuccess,b=u.isError;Object(r.useEffect)((function(){if(h){var t=l.loc.split(","),e=Object(s.a)(t,2),i=e[0],n=e[1];c({city:l.city,lat:i,lng:n})}}),[l,h]),Object(r.useEffect)((function(){b&&c(a)}),[b]);var j={isLocating:d,errorLocating:b,hasLocated:h,location:o};return Object(g.jsx)(f.Provider,{value:j,children:e})};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(n||(n={}));var j=function(t){var e=h(),i=t.lng,n=t.lat,r=!!i&&!!n;return Object(c.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return e("https://api.sunrise-sunset.org/json?lat=".concat(n,"&lng=").concat(i,"&date=today&formatted=0"))}),{enabled:r})},x=function(t){var e=t.time,i=t.localSunriseTime,n=t.localSunsetTime;return Object(r.useMemo)((function(){if(!e||!n||!i)return!1;var t=e.unixTime>n.unixTime;return!(!(e.unixTime<i.unixTime)&&!t)}),[e,n,i])},m=function(t){var e=new Date(t),i=e.getTime();return{readableTime:e.toString().split(" ")[4],unixTime:i}},O=function(t){return Object(r.useMemo)((function(){if(t)return m(t)}),[t])},y=function(t,e){t&&("00:00"===function(t){return t.split(":").slice(0,-1).join(":")}(t.readableTime)&&e())},v=function(){var t=new Date,e=t.getTime();return{readableTime:t.toString().split(" ")[4],unixTime:e}},w=Object(r.createContext)({isLoading:!0,isSuccess:!1,isError:!1,isNightTime:void 0,sunset:""}),T=function(t){var e=t.children,i=Object(r.useContext)(f).location,n=Object(r.useState)(v),o=Object(s.a)(n,2),c=o[0],a=o[1];Object(r.useEffect)((function(){var t=setInterval((function(){a(v)}),6e4);return function(){return clearInterval(t)}}),[]);var u=j(i),l=u.data,d=u.isLoading,h=u.isSuccess,p=u.isError,b=u.refetch,m=u.isRefetching;y(c,b);var T=O(null===l||void 0===l?void 0:l.results.sunset),N=O(null===l||void 0===l?void 0:l.results.sunrise),C=x({time:c,localSunriseTime:N,localSunsetTime:T}),_={isLoading:d||m,isSuccess:h,isError:p,sunset:null===T||void 0===T?void 0:T.readableTime,isNightTime:C};return Object(g.jsx)(w.Provider,{value:_,children:e})},N=i(31),C=i(3),_=function(){return Object(g.jsxs)("svg",{width:"330",height:"330",viewBox:"0 0 330 330",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(g.jsx)("g",{clipPath:"url(#clip0_1_2)",children:Object(g.jsx)("path",{d:"M37.728 328.12C39.994 329.376 42.498 330 45 330C47.763 330 50.522 329.237 52.95 327.72L292.95 177.721C297.336 174.98 300 170.173 300 165.001C300 159.829 297.336 155.022 292.95 152.281L52.95 2.28C48.325 -0.611001 42.497 -0.763001 37.728 1.88C32.959 4.524 30 9.547 30 15V315C30 320.453 32.959 325.476 37.728 328.12Z",fill:"white"})}),Object(g.jsx)("defs",{children:Object(g.jsx)("clipPath",{id:"clip0_1_2",children:Object(g.jsx)("rect",{width:"330",height:"330",fill:"white"})})})]})},S=i(17),E=S.a.p.withConfig({displayName:"styles__CityText",componentId:"sc-1wdqirf-0"})(["font-size:24px;opacity:90%;font-weight:600;"]),L=S.a.p.withConfig({displayName:"styles__Disclaimer",componentId:"sc-1wdqirf-1"})(["font-size:12px;opacity:80%;position:fixed;bottom:0;width:100%;display:flex;justify-content:center;margin-bottom:24px;"]),I=S.a.span.withConfig({displayName:"styles__Lock",componentId:"sc-1wdqirf-2"})(["width:24px;height:21px;border:3px solid white;border-radius:5px;position:relative;transform:",";opacity:",";transition:opacity 1.3s ease-out,cursor 1.3s ease-out;position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;:after{content:'';display:block;background:white;width:3px;height:7px;position:absolute;top:50%;left:50%;margin:-3.5px 0 0 -2px;-webkit-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;}:before{content:'';display:block;width:10px;height:10px;position:absolute;border:3px solid white;border-top-right-radius:50%;border-top-left-radius:50%;border-bottom:0;-webkit-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;:hover{height:12px;}bottom:",";left:",";margin-left:",";transform:",";}"],(function(t){return t.isNightTime?"rotate(10deg)":""}),(function(t){return t.isNightTime?"0":"100"}),(function(t){return t.isNightTime?"130%":"100%"}),(function(t){return t.isNightTime?"31%":"50%"}),(function(t){return t.isNightTime?"-11.5px":"-8px"}),(function(t){return t.isNightTime?"rotate(-45deg)":""})),k=S.a.div.withConfig({displayName:"styles__IconWrapper",componentId:"sc-1wdqirf-3"})(["position:relative;width:100px;height:50px;display:flex;align-items:center;justify-content:center;& > svg{width:30px;height:30px;z-index:10;cursor:",";opacity:",";transition:opacity 1.3s ease-in,cursor 1.3s ease-in;:hover{opacity:",";}position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;}"],(function(t){return t.isNightTime?"pointer":"auto"}),(function(t){return t.isNightTime?"100%":"0"}),(function(t){return t.isNightTime?"90%":"0"})),D=S.a.button.withConfig({displayName:"styles__PlayButton",componentId:"sc-1wdqirf-4"})(["position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;width:40px;height:40px;z-index:10;background-color:transparent;border:none;padding:5px;border-radius:3px;cursor:",";opacity:",";transition:opacity 1.3s ease-in,cursor 1.3s ease-in;:hover{opacity:",";}:focus{opacity:",";outline:1px solid white;border:none;}& > svg{width:100%;height:100%;}"],(function(t){return t.isNightTime?"pointer":"auto"}),(function(t){return t.isNightTime?"100%":"0"}),(function(t){return t.isNightTime?"90%":"0"}),(function(t){return t.isNightTime?"90%":"0"})),R=function(){var t=Object(C.m)(),e=Object(r.useContext)(w),i=e.isNightTime,n=e.sunset,o=Object(r.useContext)(f).location;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(E,{children:o.city}),Object(g.jsxs)(k,{isNightTime:i,children:[Object(g.jsx)(D,{onClick:function(){i&&t("/night")},isNightTime:i,children:Object(g.jsx)(_,{})}),Object(g.jsx)(I,{isNightTime:i})]}),Object(g.jsxs)("p",{children:["Sunset: ",n]}),Object(g.jsx)(L,{children:"The location is determined by your ip address"})]})},P=function(){var t=Object(r.useContext)(w),e=t.isLoading,i=t.isSuccess,n=t.isError,o=Object(r.useContext)(f).isLocating;return e||o?Object(g.jsx)("p",{children:"Locating..."}):n?Object(g.jsx)("p",{children:"Something went wrong, please try again"}):i?Object(g.jsx)(R,{}):null},A=function(t){var e=t.children,i=Object(C.m)(),n=Object(r.useContext)(w),o=n.isNightTime,c=n.isSuccess;return Object(r.useEffect)((function(){c&&!o&&i("/")}),[o,i,c]),Object(g.jsx)(g.Fragment,{children:e})},F=function(){return Object(g.jsx)("p",{children:"hey"})},q=function(){return Object(g.jsx)(N.a,{children:Object(g.jsxs)(C.d,{children:[Object(g.jsx)(C.b,{path:"/",element:Object(g.jsx)(P,{})}),Object(g.jsx)(C.b,{path:"/night",element:Object(g.jsx)(A,{children:Object(g.jsx)(F,{})})}),Object(g.jsx)(C.b,{path:"*",element:Object(g.jsx)(C.a,{to:"/",replace:!0})})]})})},Q=S.a.div.withConfig({displayName:"styles__Container",componentId:"sc-1caujov-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:black;& > p{color:white;margin:40px;}transition:background-color 2s ease-in;"]),U=function(){var t=new c.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(g.jsx)(c.QueryClientProvider,{client:t,contextSharing:!0,children:Object(g.jsx)(b,{children:Object(g.jsx)(T,{children:Object(g.jsx)(Q,{children:Object(g.jsx)(q,{})})})})})},B=(i(70),function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,74)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;i(t),n(t),r(t),o(t),c(t)}))}),V=document.getElementById("root");Object(o.createRoot)(V).render(Object(g.jsx)(r.StrictMode,{children:Object(g.jsx)(U,{})})),B()}},[[71,1,2]]]);
//# sourceMappingURL=main.3713f45d.chunk.js.map
(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{56:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var r,c=n(1),i=n(34),o=n(11),s=n(15),a=n(20),u=n.n(a),l=n(35),f=function(){return Object(c.useCallback)(function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET"},t.next=3,window.fetch("".concat(e),n);case 3:if(!(r=t.sent).ok){t.next=8;break}return t.abrupt("return",r.json());case 8:return t.next=10,r.text();case 10:return c=t.sent,t.abrupt("return",Promise.reject(new Error(c)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(r||(r={}));var d=function(t,e){var n=f(),r=!!t&&!!e;return Object(o.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return n("https://api.sunrise-sunset.org/json?lat=".concat(t,"&lng=").concat(e,"&date=today&formatted=0"))}),{enabled:r})},b=function(){var t=f();return Object(o.useQuery)("GET_LOCATION_BY_IP",(function(){return t("https://ipinfo.io/json?token=".concat("a5e5afb9617ec8"))}))},j=n(21),p=j.a.div.withConfig({displayName:"styles__Container",componentId:"sc-1wdqirf-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:",";& > p{color:",";}transition:background-color 2s ease-in;"],(function(t){return t.isNightTime?"black":"white"}),(function(t){return t.isNightTime?"white":"black"})),h=j.a.p.withConfig({displayName:"styles__Disclaimer",componentId:"sc-1wdqirf-1"})(["font-size:12px;opacity:80%;position:fixed;bottom:0;width:100%;display:flex;justify-content:center;margin-bottom:24px;"]),O=function(){return(new Date).toString().split(" ")[4]},m=function(t){return new Date(t).toString().split(" ")[4]},g=n(5),x=function(){var t=Object(c.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)(null),o=Object(s.a)(i,2),a=o[0],u=o[1],l=Object(c.useState)(O),f=Object(s.a)(l,2),j=f[0],x=f[1];Object(c.useEffect)((function(){var t=setInterval((function(){x(O)}),6e4);return function(){return clearInterval(t)}}),[]);var y=b(),v=y.data,w=y.isLoading,E=y.isSuccess,I=d(a,n),N=I.data,S=I.isLoading,T=I.isSuccess,_=Object(c.useMemo)((function(){if(N){var t=N.results.sunset;return m(t)}}),[N]);Object(c.useEffect)((function(){if(v){var t=v.loc.split(","),e=Object(s.a)(t,2),n=e[0],c=e[1];u(n),r(c)}}),[v]);var k=Object(c.useMemo)((function(){return!(!j||!_)&&j>_}),[j,_]);return w||S?Object(g.jsx)(p,{children:Object(g.jsx)("p",{children:"Locating..."})}):E&&T?Object(g.jsxs)(p,{isNightTime:k,children:[Object(g.jsx)("p",{children:v.city}),Object(g.jsxs)("p",{children:["The sun will set at ",_,", come back then to see the content"]}),Object(g.jsx)(h,{children:"The location is determined by your ip address"})]}):null},y=function(){var t=new o.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(g.jsx)(o.QueryClientProvider,{client:t,contextSharing:!0,children:Object(g.jsx)(x,{})})},v=(n(56),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),i(t),o(t)}))}),w=document.getElementById("root");Object(i.createRoot)(w).render(Object(g.jsx)(c.StrictMode,{children:Object(g.jsx)(y,{})})),v()}},[[57,1,2]]]);
//# sourceMappingURL=main.76dd2981.chunk.js.map
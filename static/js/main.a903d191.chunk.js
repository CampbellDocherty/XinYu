(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{56:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var r,o=n(1),c=n(34),i=n(14),a=n(16),s=n(21),u=n.n(s),l=n(35),d=function(){return Object(o.useCallback)(function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET"},t.next=3,window.fetch("".concat(e),n);case 3:if(!(r=t.sent).ok){t.next=8;break}return t.abrupt("return",r.json());case 8:return t.next=10,r.text();case 10:return o=t.sent,t.abrupt("return",Promise.reject(new Error(o)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(r||(r={}));var j=function(t,e){var n=d(),r=!!t&&!!e;return Object(i.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return n("https://api.sunrise-sunset.org/json?lat=".concat(t,"&lng=").concat(e,"&date=today&formatted=0"))}),{enabled:r})},p=51.4790946,f=-.2820046,b={lat:p,lng:f},h=function(){return navigator.geolocation?(navigator.geolocation.getCurrentPosition((function(t){return{lat:t.coords.latitude,lng:t.coords.longitude}}),(function(){return b})),b):b},g=n(15),O=g.a.div.withConfig({displayName:"styles__Container",componentId:"sc-1caujov-0"})(["width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:",";& > p{color:",";}transition:background-color 2s ease-in;"],(function(t){return t.isNightTime?"black":"white"}),(function(t){return t.isNightTime?"white":"black"})),v=g.a.div.withConfig({displayName:"styles__LocationConsentWrapper",componentId:"sc-1caujov-1"})(["display:flex;flex-direction:column;"]),x=g.a.div.withConfig({displayName:"styles__ButtonWrapper",componentId:"sc-1caujov-2"})(["width:100%;display:flex;justify-content:space-around;"]),m=g.a.button.withConfig({displayName:"styles__ConsentButton",componentId:"sc-1caujov-3"})(["background-color:none;width:50px;height:25px;background-color:none;border-radius:5px;cursor:pointer;"]),y=n(5),w=function(){var t=Object(o.useState)(!1),e=Object(a.a)(t,2),n=e[0],r=e[1],c=Object(o.useState)(null),i=Object(a.a)(c,2),s=i[0],u=i[1],l=Object(o.useState)(null),d=Object(a.a)(l,2),b=d[0],g=d[1],w=Object(o.useState)(null),N=Object(a.a)(w,2),C=N[0],_=N[1],S=j(b,s),E=S.data,I=S.isLoading,k=Object(o.useMemo)((function(){if(E){var t=E.results.sunset;return new Date(t).toString().split(" ")[4]}}),[E]);Object(o.useEffect)((function(){var t=(new Date).toString().split(" ")[4];_(t)}),[]);var T=Object(o.useMemo)((function(){return!(!C||!k)&&C>k}),[C,k]);return Object(y.jsxs)(O,{isNightTime:T,children:[!E&&!I&&Object(y.jsxs)(v,{children:[Object(y.jsx)("p",{children:"Can we get your location?"}),Object(y.jsxs)(x,{children:[Object(y.jsx)(m,{onClick:function(){r(!0);var t=h();g(t.lat),u(t.lng),r(!1)},children:"Yes"}),Object(y.jsx)(m,{onClick:function(){g(p),u(f)},children:"No"})]})]}),(n||I)&&Object(y.jsx)("p",{children:"Locating..."}),k&&Object(y.jsxs)("p",{children:["Sunset: ",k]})]})},N=function(){var t=new i.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(y.jsx)(i.QueryClientProvider,{client:t,contextSharing:!0,children:Object(y.jsx)(w,{})})},C=(n(56),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),o(t),c(t),i(t)}))}),_=document.getElementById("root");Object(c.createRoot)(_).render(Object(y.jsx)(o.StrictMode,{children:Object(y.jsx)(N,{})})),C()}},[[57,1,2]]]);
//# sourceMappingURL=main.a903d191.chunk.js.map
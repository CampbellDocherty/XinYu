(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{56:function(t,e,i){},57:function(t,e,i){"use strict";i.r(e);var n,r=i(1),o=i(34),s=i(11),c=i(12),a=i(21),u=i.n(a),l=i(35),d=function(){return Object(r.useCallback)(function(){var t=Object(l.a)(u.a.mark((function t(e){var i,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={method:"GET"},t.next=3,window.fetch("".concat(e),i);case 3:if(!(n=t.sent).ok){t.next=8;break}return t.abrupt("return",n.json());case 8:return t.next=10,n.text();case 10:return r=t.sent,t.abrupt("return",Promise.reject(new Error(r)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])},p=function(){var t=d();return Object(s.useQuery)("GET_LOCATION_BY_IP",(function(){return t("https://ipinfo.io/json?token=".concat("a5e5afb9617ec8"))}))};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(n||(n={}));var f=function(t,e){var i=d(),n=!!t&&!!e;return Object(s.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return i("https://api.sunrise-sunset.org/json?lat=".concat(t,"&lng=").concat(e,"&date=today&formatted=0"))}),{enabled:n})},h=function(t){var e=t.time,i=t.localSunriseTime,n=t.localSunsetTime;return Object(r.useMemo)((function(){if(!e||!n||!i)return!1;var t=e.unixTime>n.unixTime;return!(!(e.unixTime<i.unixTime)&&!t)}),[e,n,i])},b=function(t){var e=new Date(t),i=e.getTime();return{readableTime:e.toString().split(" ")[4],unixTime:i}},g=function(t){return Object(r.useMemo)((function(){if(t)return b(t)}),[t])},m=function(t,e){t&&("00:00"===function(t){return t.split(":").slice(0,-1).join(":")}(t.readableTime)&&e())},j=i(3),x=function(){return Object(j.jsxs)("svg",{width:"330",height:"330",viewBox:"0 0 330 330",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("g",{clipPath:"url(#clip0_1_2)",children:Object(j.jsx)("path",{d:"M37.728 328.12C39.994 329.376 42.498 330 45 330C47.763 330 50.522 329.237 52.95 327.72L292.95 177.721C297.336 174.98 300 170.173 300 165.001C300 159.829 297.336 155.022 292.95 152.281L52.95 2.28C48.325 -0.611001 42.497 -0.763001 37.728 1.88C32.959 4.524 30 9.547 30 15V315C30 320.453 32.959 325.476 37.728 328.12Z",fill:"white"})}),Object(j.jsx)("defs",{children:Object(j.jsx)("clipPath",{id:"clip0_1_2",children:Object(j.jsx)("rect",{width:"330",height:"330",fill:"white"})})})]})},O=i(13),w=O.a.div.withConfig({displayName:"styles__Container",componentId:"sc-1wdqirf-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:black;& > p{color:white;margin:40px;}transition:background-color 2s ease-in;"]),y=O.a.p.withConfig({displayName:"styles__CityText",componentId:"sc-1wdqirf-1"})(["font-size:24px;opacity:90%;font-weight:600;"]),T=O.a.p.withConfig({displayName:"styles__Disclaimer",componentId:"sc-1wdqirf-2"})(["font-size:12px;opacity:80%;position:fixed;bottom:0;width:100%;display:flex;justify-content:center;margin-bottom:24px;"]),v=O.a.span.withConfig({displayName:"styles__Lock",componentId:"sc-1wdqirf-3"})(["width:24px;height:21px;border:3px solid white;border-radius:5px;position:relative;transform:",";opacity:",";transition:opacity 1.3s ease-out,cursor 1.3s ease-out;position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;:after{content:'';display:block;background:white;width:3px;height:7px;position:absolute;top:50%;left:50%;margin:-3.5px 0 0 -2px;-webkit-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;}:before{content:'';display:block;width:10px;height:10px;position:absolute;border:3px solid white;border-top-right-radius:50%;border-top-left-radius:50%;border-bottom:0;-webkit-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;:hover{height:12px;}bottom:",";left:",";margin-left:",";transform:",";}"],(function(t){return t.isNightTime?"rotate(10deg)":""}),(function(t){return t.isNightTime?"0":"100"}),(function(t){return t.isNightTime?"130%":"100%"}),(function(t){return t.isNightTime?"31%":"50%"}),(function(t){return t.isNightTime?"-11.5px":"-8px"}),(function(t){return t.isNightTime?"rotate(-45deg)":""})),N=O.a.div.withConfig({displayName:"styles__IconWrapper",componentId:"sc-1wdqirf-4"})(["position:relative;width:100px;height:50px;display:flex;align-items:center;justify-content:center;& > svg{width:30px;height:30px;z-index:10;cursor:",";opacity:",";transition:opacity 1.3s ease-in,cursor 1.3s ease-in;:hover{opacity:",";}position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;}"],(function(t){return t.isNightTime?"pointer":"auto"}),(function(t){return t.isNightTime?"100%":"0"}),(function(t){return t.isNightTime?"90%":"0"})),_=function(){var t=new Date,e=t.getTime();return{readableTime:t.toString().split(" ")[4],unixTime:e}},C=function(t){var e=t.lat,i=t.lng,n=t.city,o=Object(r.useState)(_),s=Object(c.a)(o,2),a=s[0],u=s[1];Object(r.useEffect)((function(){var t=setInterval((function(){u(_)}),6e4);return function(){return clearInterval(t)}}),[]);var l=f(e,i),d=l.data,p=l.isLoading,b=l.isSuccess,O=l.refetch,T=l.isRefetching;m(a,O);var C=g(null===d||void 0===d?void 0:d.results.sunset),I=g(null===d||void 0===d?void 0:d.results.sunrise),S=h({time:a,localSunriseTime:I,localSunsetTime:C});return p||T?Object(j.jsx)(w,{children:Object(j.jsx)("p",{children:"Locating..."})}):b&&C?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y,{children:n}),Object(j.jsxs)(N,{isNightTime:S,children:[Object(j.jsx)(x,{}),Object(j.jsx)(v,{isNightTime:S})]}),Object(j.jsxs)("p",{children:["Sunset: ",C.readableTime]})]}):null},I=function(){var t=Object(r.useState)(null),e=Object(c.a)(t,2),i=e[0],n=e[1],o=Object(r.useState)(null),s=Object(c.a)(o,2),a=s[0],u=s[1],l=p(),d=l.data,f=l.isLoading,h=l.isSuccess;return Object(r.useEffect)((function(){if(d){var t=d.loc.split(","),e=Object(c.a)(t,2),i=e[0],r=e[1];u(i),n(r)}}),[d]),f?Object(j.jsx)(w,{children:Object(j.jsx)("p",{children:"Locating..."})}):h&&a&&i?Object(j.jsxs)(w,{children:[Object(j.jsx)(C,{lat:a,lng:i,city:d.city}),Object(j.jsx)(T,{children:"The location is determined by your ip address"})]}):null},S=function(){var t=new s.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(j.jsx)(s.QueryClientProvider,{client:t,contextSharing:!0,children:Object(j.jsx)(I,{})})},E=(i(56),function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,60)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;i(t),n(t),r(t),o(t),s(t)}))}),k=document.getElementById("root");Object(o.createRoot)(k).render(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(S,{})})),E()}},[[57,1,2]]]);
//# sourceMappingURL=main.db39c075.chunk.js.map
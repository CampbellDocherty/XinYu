(this.webpackJsonpplaypiem=this.webpackJsonpplaypiem||[]).push([[0],{70:function(t,e,i){},71:function(t,e,i){"use strict";i.r(e);var n,r=i(0),o=i(49),s=i(19),c=i(36),a=i(3),u=i(7),l=i(5),h=i.n(l),d=i(9),p=function(){return Object(r.useCallback)(function(){var t=Object(d.a)(h.a.mark((function t(e){var i,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={method:"GET"},t.next=3,window.fetch("".concat(e),i);case 3:if(!(n=t.sent).ok){t.next=8;break}return t.abrupt("return",n.json());case 8:return t.next=10,n.text();case 10:return r=t.sent,t.abrupt("return",Promise.reject(new Error(r)));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[])},f=function(){var t=p();return Object(s.useQuery)("GET_LOCATION_BY_IP",(function(){return t("https://ipinfo.io/json?token=".concat("a5e5afb9617ec8"))}))};!function(t){t.OK="OK",t.INVALID_REQUEST="INVALID_REQUEST",t.INVALID_DATE="INVALID_DATE",t.UNKOWN_ERROR="UNKOWN_ERROR"}(n||(n={}));var g=function(t,e){var i=p(),n=!!t&&!!e;return Object(s.useQuery)("GET_SUNRISE_AND_SUNSET",(function(){return i("https://api.sunrise-sunset.org/json?lat=".concat(t,"&lng=").concat(e,"&date=today&formatted=0"))}),{enabled:n})},b=function(t){var e=t.time,i=t.localSunriseTime,n=t.localSunsetTime;return Object(r.useMemo)((function(){if(!e||!n||!i)return!1;var t=e.unixTime>n.unixTime;return!(!(e.unixTime<i.unixTime)&&!t)}),[e,n,i])},m=function(t){var e=new Date(t),i=e.getTime();return{readableTime:e.toString().split(" ")[4],unixTime:i}},j=function(t){return Object(r.useMemo)((function(){if(t)return m(t)}),[t])},x=function(t,e){t&&("00:00"===function(t){return t.split(":").slice(0,-1).join(":")}(t.readableTime)&&e())},O=i(4),w=function(){return Object(O.jsxs)("svg",{width:"330",height:"330",viewBox:"0 0 330 330",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("g",{clipPath:"url(#clip0_1_2)",children:Object(O.jsx)("path",{d:"M37.728 328.12C39.994 329.376 42.498 330 45 330C47.763 330 50.522 329.237 52.95 327.72L292.95 177.721C297.336 174.98 300 170.173 300 165.001C300 159.829 297.336 155.022 292.95 152.281L52.95 2.28C48.325 -0.611001 42.497 -0.763001 37.728 1.88C32.959 4.524 30 9.547 30 15V315C30 320.453 32.959 325.476 37.728 328.12Z",fill:"white"})}),Object(O.jsx)("defs",{children:Object(O.jsx)("clipPath",{id:"clip0_1_2",children:Object(O.jsx)("rect",{width:"330",height:"330",fill:"white"})})})]})},y=i(17),T=y.a.p.withConfig({displayName:"styles__CityText",componentId:"sc-1wdqirf-0"})(["font-size:24px;opacity:90%;font-weight:600;"]),v=y.a.p.withConfig({displayName:"styles__Disclaimer",componentId:"sc-1wdqirf-1"})(["font-size:12px;opacity:80%;position:fixed;bottom:0;width:100%;display:flex;justify-content:center;margin-bottom:24px;"]),N=y.a.span.withConfig({displayName:"styles__Lock",componentId:"sc-1wdqirf-2"})(["width:24px;height:21px;border:3px solid white;border-radius:5px;position:relative;transform:",";opacity:",";transition:opacity 1.3s ease-out,cursor 1.3s ease-out;position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;:after{content:'';display:block;background:white;width:3px;height:7px;position:absolute;top:50%;left:50%;margin:-3.5px 0 0 -2px;-webkit-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;}:before{content:'';display:block;width:10px;height:10px;position:absolute;border:3px solid white;border-top-right-radius:50%;border-top-left-radius:50%;border-bottom:0;-webkit-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;:hover{height:12px;}bottom:",";left:",";margin-left:",";transform:",";}"],(function(t){return t.isNightTime?"rotate(10deg)":""}),(function(t){return t.isNightTime?"0":"100"}),(function(t){return t.isNightTime?"130%":"100%"}),(function(t){return t.isNightTime?"31%":"50%"}),(function(t){return t.isNightTime?"-11.5px":"-8px"}),(function(t){return t.isNightTime?"rotate(-45deg)":""})),_=y.a.div.withConfig({displayName:"styles__IconWrapper",componentId:"sc-1wdqirf-3"})(["position:relative;width:100px;height:50px;display:flex;align-items:center;justify-content:center;& > svg{width:30px;height:30px;z-index:10;cursor:",";opacity:",";transition:opacity 1.3s ease-in,cursor 1.3s ease-in;:hover{opacity:",";}position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;}"],(function(t){return t.isNightTime?"pointer":"auto"}),(function(t){return t.isNightTime?"100%":"0"}),(function(t){return t.isNightTime?"90%":"0"})),C=y.a.button.withConfig({displayName:"styles__PlayButton",componentId:"sc-1wdqirf-4"})(["position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;width:40px;height:40px;z-index:10;background-color:transparent;border:none;padding:5px;border-radius:3px;cursor:",";opacity:",";transition:opacity 1.3s ease-in,cursor 1.3s ease-in;:hover{opacity:",";}:focus{opacity:",";outline:1px solid white;border:none;}& > svg{width:100%;height:100%;}"],(function(t){return t.isNightTime?"pointer":"auto"}),(function(t){return t.isNightTime?"100%":"0"}),(function(t){return t.isNightTime?"90%":"0"}),(function(t){return t.isNightTime?"90%":"0"})),I=function(){var t=new Date,e=t.getTime();return{readableTime:t.toString().split(" ")[4],unixTime:e}},S=function(t){var e=t.location,i=e.lat,n=e.lng,o=e.city,s=Object(a.m)(),c=Object(r.useState)(I),l=Object(u.a)(c,2),h=l[0],d=l[1];Object(r.useEffect)((function(){var t=setInterval((function(){d(I)}),6e4);return function(){return clearInterval(t)}}),[]);var p=g(i,n),f=p.data,m=p.isLoading,y=p.isSuccess,S=p.refetch,k=p.isRefetching;x(h,S);var E=j(null===f||void 0===f?void 0:f.results.sunset),L=j(null===f||void 0===f?void 0:f.results.sunrise),D=b({time:h,localSunriseTime:L,localSunsetTime:E});if(m||k)return Object(O.jsx)("p",{children:"Locating..."});return y&&E?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{children:o}),Object(O.jsxs)(_,{isNightTime:D,children:[Object(O.jsx)(C,{onClick:function(){D&&s("/night")},isNightTime:D,children:Object(O.jsx)(w,{})}),Object(O.jsx)(N,{isNightTime:D})]}),Object(O.jsxs)("p",{children:["Sunset: ",E.readableTime]}),Object(O.jsx)(v,{children:"The location is determined by your ip address"})]}):null},k=function(){var t=f(),e=t.data,i=t.isLoading,n=t.isSuccess;if(i)return Object(O.jsx)("p",{children:"Locating..."});if(n){var r=e.loc,o=e.city,s=r.split(","),c=Object(u.a)(s,2),a={lat:c[0],lng:c[1],city:o};return Object(O.jsx)(S,{location:a})}return null},E=function(){return Object(O.jsx)("p",{children:"hey"})},L=function(){return Object(O.jsx)(c.a,{children:Object(O.jsxs)(a.d,{children:[Object(O.jsx)(a.b,{path:"/",element:Object(O.jsx)(k,{})}),Object(O.jsx)(a.b,{path:"/night",element:Object(O.jsx)(E,{})}),Object(O.jsx)(a.b,{path:"*",element:Object(O.jsx)(a.a,{to:"/",replace:!0})})]})})},D=y.a.div.withConfig({displayName:"styles__Container",componentId:"sc-1caujov-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:black;& > p{color:white;margin:40px;}transition:background-color 2s ease-in;"]),R=function(){var t=new s.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0},mutations:{}}});return Object(O.jsx)(s.QueryClientProvider,{client:t,contextSharing:!0,children:Object(O.jsx)(D,{children:Object(O.jsx)(L,{})})})},A=(i(70),function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,74)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;i(t),n(t),r(t),o(t),s(t)}))}),P=document.getElementById("root");Object(o.createRoot)(P).render(Object(O.jsx)(r.StrictMode,{children:Object(O.jsx)(R,{})})),A()}},[[71,1,2]]]);
//# sourceMappingURL=main.ee69e6b0.chunk.js.map